<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ì˜ ì•„í”ˆ ê³³ì€? - AI ê±´ê°• ê°€ì´ë“œ (ìƒì„¸ ë²„ì „)</title>

    <style>
        /* CSS ì½”ë“œ ì‹œì‘ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');

        :root {
            --primary-color: #007bff;
            --light-gray: #f8f9fa;
            --dark-gray: #343a40;
            --border-color: #dee2e6;
            --selected-color: #28a745;
            --hover-color: rgba(0, 123, 255, 0.4);
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--light-gray);
            color: var(--dark-gray);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .container {
            background-color: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        h1 .subtitle {
            display: block;
            font-size: 1rem;
            color: #6c757d;
            font-weight: 400;
        }

        h2 {
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
            margin-top: 30px;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        h2 .step-subtitle {
            font-size: 1rem;
            color: #6c757d;
            font-weight: 400;
            margin-left: 10px;
        }

        .disclaimer {
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            border-radius: 8px;
            padding: 15px;
            font-size: 0.9rem;
            text-align: center;
            margin: 20px 0;
        }

        .options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .btn {
            padding: 12px 20px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            font-family: 'Noto Sans KR', sans-serif;
            min-width: 80px;
            text-align: center;
        }

        .btn:hover {
            background-color: #e9ecef;
            border-color: #adb5bd;
        }

        .btn.selected {
            background-color: var(--selected-color);
            color: white;
            border-color: var(--selected-color);
            font-weight: 700;
        }

        .btn-next {
            width: 100%;
            background-color: var(--primary-color);
            color: white;
            font-weight: 700;
            font-size: 1.1rem;
            margin-top: 10px;
        }

        .btn-next:hover {
            opacity: 0.9;
            background-color: var(--primary-color);
        }

        .btn-back {
            background-color: #6c757d;
            color: white;
            margin-bottom: 15px;
        }

        textarea {
            width: 100%;
            height: 80px;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 1rem;
            resize: vertical;
        }

        .hidden {
            display: none;
        }

        .result-box {
            background-color: var(--light-gray);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .result-box h3 {
            margin-top: 0;
            color: var(--primary-color);
        }

        .result-box p {
            line-height: 1.7;
        }

        .result-box .warning {
            color: #856404;
            background-color: #fff3cd;
            padding: 10px;
            border-radius: 5px;
            border-left: 5px solid #ffeeba;
        }

        #body-image-container {
            position: relative;
            max-width: 300px;
            /* ì´ë¯¸ì§€ í¬ê¸° ì¡°ì ˆ */
            margin: 20px auto;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
        }

        #body-svg {
            width: 100%;
            height: auto;
            transition: all 0.5s ease-in-out;
        }

        .clickable-group,
        .clickable-part {
            fill: rgba(0, 123, 255, 0.01);
            /* ê¸°ë³¸ì ìœ¼ë¡œ ê±°ì˜ íˆ¬ëª… */
            stroke: rgba(0, 123, 255, 0.5);
            stroke-width: 8px;
            transition: fill 0.2s ease-in-out;
            cursor: pointer;
        }

        .clickable-group:hover,
        .clickable-part:hover {
            fill: var(--hover-color);
        }

        /* CSS ì½”ë“œ ë */
    </style>
</head>

<body>

    <div class="container">
        <h1>ë‚˜ì˜ ì•„í”ˆ ê³³ì€? <span class="subtitle">AI ê±´ê°• ê°€ì´ë“œ</span></h1>

        <p class="disclaimer">
            âš ï¸ <strong>ì¤‘ìš” ì•ˆë‚´:</strong> ë³¸ í”„ë¡œê·¸ë¨ì€ ì˜ë£Œì  ì§„ë‹¨ì´ ì•„ë‹ˆë©°, ì°¸ê³ ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
            ì‹¬ê°í•˜ê±°ë‚˜ ì§€ì†ì ì¸ ì¦ìƒì€ ë°˜ë“œì‹œ ì˜ì‚¬ ë˜ëŠ” ì•½ì‚¬ì™€ ìƒë‹´í•˜ì„¸ìš”.
        </p>

        <section id="step1_gender">
            <h2>1ë‹¨ê³„: ì„±ë³„ì„ ì„ íƒí•˜ì„¸ìš”</h2>
            <div class="options">
                <button class="btn gender-btn" data-gender="male">ë‚¨ì„±</button>
                <button class="btn gender-btn" data-gender="female">ì—¬ì„±</button>
            </div>
        </section>

        <section id="step2_bodypart" class="hidden">
            <div id="level1-view">
                <h2>2ë‹¨ê³„: ì•„í”ˆ ë¶€ìœ„ì˜ ê·¸ë£¹ì„ ì„ íƒí•˜ì„¸ìš”</h2>
            </div>
            <div id="level2-view" class="hidden">
                <h2>2ë‹¨ê³„<span class="step-subtitle">(ìƒì„¸)</span>: ë” ìì„¸í•œ ë¶€ìœ„ë¥¼ ì„ íƒí•˜ì„¸ìš”</h2>
                <button id="back-to-fullbody" class="btn btn-back">ì „ì‹  ë³´ê¸°ë¡œ ëŒì•„ê°€ê¸°</button>
            </div>

            <div id="body-image-container">
                <object type="image/svg+xml" data="front-full-body.svg" id="full-body-svg" style="width: 100%; height: auto;">
                    <img src="front-full-body.png" alt="ì¸ì²´ ì „ë©´ ì´ë¯¸ì§€">
                </object>
            </div>
        </section>

        <section id="step3_symptoms" class="hidden">
            <h2>3ë‹¨ê³„: ì¦ìƒì„ ëª¨ë‘ ì„ íƒí•˜ì„¸ìš” ğŸ¤’</h2>
            <div id="symptom-options" class="options"></div>
            <textarea id="symptom-details" placeholder="ì„ íƒì§€ì— ì—†ëŠ” ì¦ìƒì´ë‚˜ ë” ìì„¸í•œ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”."></textarea>
            <button id="to-step4-btn" class="btn btn-next">ë‹¤ìŒ ë‹¨ê³„ë¡œ</button>
        </section>

        <section id="step4_conditions" class="hidden">
            <h2>4ë‹¨ê³„: ì¦ìƒì´ ë‚˜íƒ€ë‚˜ê¸° ì „ ìƒí™©ì„ ì•Œë ¤ì£¼ì„¸ìš” âœï¸</h2>
            <div class="options">
                <button class="btn condition-btn" data-condition="ìˆ˜ë©´ ë¶€ì¡±">ìˆ˜ë©´ ë¶€ì¡±</button>
                <button class="btn condition-btn" data-condition="ìŠ¤íŠ¸ë ˆìŠ¤">ìŠ¤íŠ¸ë ˆìŠ¤</button>
                <button class="btn condition-btn" data-condition="ê³¼ì‹">ê³¼ì‹</button>
                <button class="btn condition-btn" data-condition="ê³¼ìŒ">ê³¼ìŒ</button>
                <button class="btn condition-btn" data-condition="ìš´ë™ í›„">ìš´ë™/í™œë™ í›„</button>
                <button class="btn condition-btn" data-condition="ìê³  ì¼ì–´ë‚œ í›„">ìê³  ì¼ì–´ë‚œ í›„</button>
            </div>
            <button id="get-result-btn" class="btn btn-next">AI ë¶„ì„ ê²°ê³¼ ë³´ê¸°</button>
        </section>

        <section id="result" class="hidden">
            <h2>AI ë¶„ì„ ë° ë§ì¶¤í˜• ì¡°ì–¸</h2>
            <div id="result-content" class="result-box"></div>
            <button id="restart-btn" class="btn btn-next">ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘</button>
        </section>
    </div>

    <script>
        // JavaScript ì½”ë“œ ì‹œì‘
        document.addEventListener('DOMContentLoaded', () => {
            const steps = {
                gender: document.getElementById('step1_gender'),
                bodyPart: document.getElementById('step2_bodypart'),
                symptoms: document.getElementById('step3_symptoms'),
                conditions: document.getElementById('step4_conditions'),
                result: document.getElementById('result')
            };

            let userSelections = { gender: null, part: null, symptoms: [], conditions: [] };

            const symptomsData = {
                // ë¨¸ë¦¬ ìƒì„¸
                eye: ['ëˆˆ í†µì¦', 'ë»‘ë»‘í•¨', 'ì¶©í˜ˆ', 'ì‹œì•¼ íë¦¼'],
                nose: ['ì½”ë§‰í˜', 'ì½§ë¬¼', 'ì¬ì±„ê¸°'],
                mouth: ['ëª©ì•„í””', 'ê¸°ì¹¨', 'í˜“ë°”ëŠ˜'],
                // ëª¸í†µ ìƒì„¸
                neck: ['ëª© ë»ê·¼í•¨', 'ë‹´ ê²°ë¦¼', 'ì›€ì§ì¼ ë•Œ í†µì¦'],
                chest: ['ê°€ìŠ´ í†µì¦', 'ë‹µë‹µí•¨', 'ë‘ê·¼ê±°ë¦¼', 'ìˆ¨ì°¸'],
                stomach: ['ì†ì“°ë¦¼', 'ë”ë¶€ë£©í•¨', 'ì„¤ì‚¬', 'ë³€ë¹„'],
                back: ['ë“±/í—ˆë¦¬ í†µì¦', 'ê²°ë¦¼', 'ë»ê·¼í•¨'],
                // íŒ” ìƒì„¸
                shoulder: ['ì–´ê¹¨ ê²°ë¦¼', 'íŒ” ì˜¬ë¦´ë•Œ í†µì¦', 'ë»ê·¼í•¨'],
                elbow: ['íŒ”ê¿ˆì¹˜ í†µì¦', 'íŒ”ì„ êµ½íë•Œ í†µì¦'],
                hand: ['ì†ëª© í†µì¦', 'ì†ê°€ë½ ì €ë¦¼', 'ì†ê°€ë½ ê´€ì ˆì—¼'],
                // ë‹¤ë¦¬ ìƒì„¸
                hip: ['ê³ ê´€ì ˆ í†µì¦', 'ì—‰ë©ì´ í†µì¦', 'ê³¨ë°˜ í†µì¦'],
                knee: ['ë¬´ë¦ í†µì¦', 'ì‹œí°ê±°ë¦¼', 'ê³„ë‹¨ ì˜¤ë¥¼ë•Œ í†µì¦'],
                foot: ['ë°œëª© í†µì¦', 'ë°œë°”ë‹¥ í†µì¦', 'ë°œê°€ë½ ì €ë¦¼'],
            };

            const svg = document.getElementById('body-svg');
            const initialViewBox = "0 0 380 803";
            const detailedViewBoxes = {
                head: "130 0 120 100",
                torso: "70 60 240 380",
                arms: "-20 130 420 250",
                legs: "30 430 320 380"
            };

            const level1Groups = document.getElementById('level1-groups');
            const level2Parts = document.getElementById('level2-parts');
            const level1View = document.getElementById('level1-view');
            const level2View = document.getElementById('level2-view');

            // --- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì • ---

            // 1ë‹¨ê³„: ì„±ë³„ ì„ íƒ
            document.querySelectorAll('.gender-btn').forEach(button => {
                button.addEventListener('click', () => {
                    userSelections.gender = button.dataset.gender;
                    steps.gender.classList.add('hidden');
                    steps.bodyPart.classList.remove('hidden');
                });
            });

            // 2-1ë‹¨ê³„: ê·¸ë£¹ ì„ íƒ
            level1Groups.querySelectorAll('.clickable-group').forEach(group => {
                group.addEventListener('click', (e) => {
                    const groupName = e.currentTarget.dataset.group;
                    showDetailedView(groupName);
                });
            });

            // 2-2ë‹¨ê³„: ìƒì„¸ ë¶€ìœ„ ì„ íƒ
            level2Parts.querySelectorAll('.clickable-part').forEach(part => {
                part.addEventListener('click', (e) => {
                    const partName = e.currentTarget.dataset.part;
                    userSelections.part = partName;
                    populateSymptoms(partName);
                    steps.bodyPart.classList.add('hidden');
                    steps.symptoms.classList.remove('hidden');
                });
            });

            // 'ì „ì‹  ë³´ê¸°' ë²„íŠ¼
            document.getElementById('back-to-fullbody').addEventListener('click', showFullBodyView);

            // 3ë‹¨ê³„ -> 4ë‹¨ê³„
            document.getElementById('to-step4-btn').addEventListener('click', () => {
                userSelections.symptoms = [];
                document.querySelectorAll('.symptom-btn.selected').forEach(btn => {
                    userSelections.symptoms.push(btn.dataset.symptom);
                });
                const details = document.getElementById('symptom-details').value;
                if (details) userSelections.symptoms.push(`(ìƒì„¸: ${details})`);

                steps.symptoms.classList.add('hidden');
                steps.conditions.classList.remove('hidden');
            });

            // 4ë‹¨ê³„ -> ê²°ê³¼
            document.getElementById('get-result-btn').addEventListener('click', () => {
                userSelections.conditions = [];
                document.querySelectorAll('.condition-btn.selected').forEach(btn => {
                    userSelections.conditions.push(btn.dataset.condition);
                });
                analyzeAndShowResult();
                steps.conditions.classList.add('hidden');
                steps.result.classList.remove('hidden');
            });

            // ì¬ì‹œì‘
            document.getElementById('restart-btn').addEventListener('click', () => {
                userSelections = { gender: null, part: null, symptoms: [], conditions: [] };
                document.querySelectorAll('.btn.selected').forEach(btn => btn.classList.remove('selected'));
                document.getElementById('symptom-details').value = '';
                showFullBodyView();
                Object.values(steps).forEach(step => step.classList.add('hidden'));
                steps.gender.classList.remove('hidden');
            });

            // --- í•µì‹¬ í•¨ìˆ˜ ---

            function showDetailedView(groupName) {
                level1View.classList.add('hidden');
                level2View.classList.remove('hidden');
                level1Groups.classList.add('hidden');
                level2Parts.classList.remove('hidden');

                svg.setAttribute('viewBox', detailedViewBoxes[groupName]);

                // í•´ë‹¹ ê·¸ë£¹ì˜ ìƒì„¸ ë¶€ìœ„ë§Œ ë³´ì—¬ì£¼ê¸°
                level2Parts.querySelectorAll('.clickable-part').forEach(part => {
                    if (part.dataset.group === groupName) {
                        part.classList.remove('hidden');
                    } else {
                        part.classList.add('hidden');
                    }
                });
            }

            function showFullBodyView() {
                level2View.classList.add('hidden');
                level1View.classList.remove('hidden');
                level2Parts.classList.add('hidden');
                level1Groups.classList.remove('hidden');
                svg.setAttribute('viewBox', initialViewBox);
            }

            function populateSymptoms(partName) {
                const symptomOptionsContainer = document.getElementById('symptom-options');
                symptomOptionsContainer.innerHTML = '';
                const symptoms = symptomsData[partName] || [];
                symptoms.forEach(symptom => {
                    const button = document.createElement('button');
                    button.className = 'btn symptom-btn';
                    button.dataset.symptom = symptom;
                    button.textContent = symptom;
                    symptomOptionsContainer.appendChild(button);
                });
            }

            function analyzeAndShowResult() {
                const { part, symptoms, conditions, gender } = userSelections;
                const resultContent = document.getElementById('result-content');
                let html = '';
                const genderText = gender === 'male' ? 'ë‚¨ì„±' : 'ì—¬ì„±';

                if (part === 'shoulder' && symptoms.includes('ì–´ê¹¨ ê²°ë¦¼') && conditions.includes('ìŠ¤íŠ¸ë ˆìŠ¤')) {
                    html = `<h3>ì˜ˆìƒ ì›ì¸</h3><p>${genderText} ì‚¬ìš©ìë‹˜ ì •ë³´ë¥¼ ì¢…í•©í•˜ë©´ <strong>ìŠ¤íŠ¸ë ˆìŠ¤ì™€ ì¥ì‹œê°„ ê°™ì€ ìì„¸</strong>ë¡œ ì¸í•œ <strong>ì–´ê¹¨ ê·¼ìœ¡ ë­‰ì¹¨(ê·¼ë§‰í†µ ì¦í›„êµ°)</strong>ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3>ê¶Œì¥ ì¡°ì¹˜</h3><p>- ì˜¨ì°œì§ˆê³¼ í•¨ê»˜ ê°€ë²¼ìš´ ì–´ê¹¨ ìŠ¤íŠ¸ë ˆì¹­ì´ ë„ì›€ì´ ë©ë‹ˆë‹¤.<br>- ì£¼ê¸°ì ìœ¼ë¡œ ìì„¸ë¥¼ ë°”ê¿”ì£¼ê³  íœ´ì‹ì„ ì·¨í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.</p><p class="warning"><strong>ì£¼ì˜:</strong> íŒ” ì €ë¦¼ì´ ë™ë°˜ë˜ê±°ë‚˜ í†µì¦ì´ ì‹¬í•´ ì ì„ ìê¸° ì–´ë µë‹¤ë©´ ë³‘ì› ì§„ë£Œë¥¼ ë°›ìœ¼ì„¸ìš”.</p>`;
                }
                else if (part === 'knee' && symptoms.includes('ë¬´ë¦ í†µì¦') && conditions.includes('ìš´ë™/í™œë™ í›„')) {
                    html = `<h3>ì˜ˆìƒ ì›ì¸</h3><p><strong>ë¬´ë¦¬í•œ ìš´ë™ì´ë‚˜ í™œë™</strong>ìœ¼ë¡œ ì¸í•œ <strong>ë¬´ë¦ ê´€ì ˆì˜ ì¼ì‹œì ì¸ ì—¼ì¢Œ ë˜ëŠ” ì—°ê³¨ ìê·¹</strong>ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3>ê¶Œì¥ ì¡°ì¹˜</h3><p>- ë¬´ë¦ ì‚¬ìš©ì„ ìµœì†Œí™”í•˜ê³  1~2ì¼ê°„ ëƒ‰ì°œì§ˆì„ í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.<br>- ë¶“ê¸°ê°€ ê°€ë¼ì•‰ìœ¼ë©´ ì˜¨ì°œì§ˆë¡œ ì „í™˜í•˜ê³ , ë¬´ë¦¬í•˜ì§€ ì•ŠëŠ” ì„ ì—ì„œ ë¶€ë“œëŸ½ê²Œ ì›€ì§ì—¬ì£¼ì„¸ìš”.</p><p class="warning"><strong>ì£¼ì˜:</strong> ë¬´ë¦ì´ ì‹¬í•˜ê²Œ ë¶“ê±°ë‚˜, êµ¬ë¶€ë¦¬ê³  í´ê¸° ì–´ë µê±°ë‚˜, 'ëš'í•˜ëŠ” íŒŒì—´ìŒì´ ë“¤ë ¸ë‹¤ë©´ ì¦‰ì‹œ ì •í˜•ì™¸ê³¼ ì§„ë£Œë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.</p>`;
                }
                else {
                    html = `<h3>ë¶„ì„ ê²°ê³¼</h3><p>ì…ë ¥í•´ì£¼ì‹  ì •ë³´ë§Œìœ¼ë¡œëŠ” ëª…í™•í•œ ì›ì¸ì„ íŒŒì•…í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤. ì¦ìƒì´ ê°€ë³ë‹¤ë©´ ì¶©ë¶„í•œ íœ´ì‹ì„ ì·¨í•˜ë©° ê²½ê³¼ë¥¼ ì§€ì¼œë³´ì‹œê³ , ë¶ˆí¸í•¨ì´ ê³„ì†ëœë‹¤ë©´ ì „ë¬¸ê°€ì˜ ì§„ë£Œë¥¼ ë°›ì•„ë³´ì‹œëŠ” ê²ƒì´ ê°€ì¥ ì¢‹ìŠµë‹ˆë‹¤.</p><h3>ê¸°ë³¸ ì¡°ì–¸</h3><p>- ì¶©ë¶„í•œ íœ´ì‹ê³¼ ìˆ˜ë©´<br>- ê· í˜• ì¡íŒ ì‹ì‚¬<br>- ê°€ë²¼ìš´ ìŠ¤íŠ¸ë ˆì¹­</p><p class="warning"><strong>ê¸°ì–µí•˜ì„¸ìš”:</strong> ì´ í”„ë¡œê·¸ë¨ì€ ì°¸ê³ ìš©ì´ë©°, ì •í™•í•œ ì§„ë‹¨ì€ ë°˜ë“œì‹œ ì˜ì‚¬ì—ê²Œ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.</p>`;
                }
                resultContent.innerHTML = html;
            }
        });
        // JavaScript ì½”ë“œ ë
    </script>
</body>

</html>